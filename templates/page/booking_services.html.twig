{% extends 'base.html.twig' %}

{% block title %}Services de la catégorie {{ category.name }}{% endblock %}

{% block body %}
<section class="category-row">
    <aside class="category-details-aside">
        <div class="services-liste-container">
            <div class="category-title">
                <h1>{{ category.name }}</h1>
            </div>
            <div class="category-services">
                <ul>
                    {% for service in services %}
                        <li class="service-name" onclick="toggleServiceDetail({{ service.id }})">
                            {{ service.name }}
                        </li>
                    {% else %}
                        <p>Aucun service à afficher pour cette catégorie.</p>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {# Insérer ici aussi la carte de réduction #}
    </aside>

    <section class="service-detail">
        {% for service in services %}
            <div id="service-detail-{{ service.id }}" class="service-detail-content" style="display: none;">
                <h2>{{ service.price }}</h2>
                <p>{{ service.description }}</p>
                <span>{{ service.duration }}</span>
            </div>
        {% else %}
            <p>Aucun service à afficher pour cette catégorie.</p>
        {% endfor %}
    </section>
</section>

<script>
    function toggleServiceDetail(serviceId) {
        // Cache toutes les descriptions de service
        document.querySelectorAll('.service-detail-content').forEach(function(detail) {
            detail.style.display = 'none';
        });

        // Affiche la description du service cliqué
        var detailToDisplay = document.getElementById('service-detail-' + serviceId);
        if (detailToDisplay) {
            detailToDisplay.style.display = 'block';
        }
    }
</script>
{% endblock %}
